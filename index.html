<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
    </head>
    <body>
        <script>
            function computerPlay() {
                let choices = ['Rock', 'Paper', 'Scissors'];
                return choices[Math.floor(Math.random() * 3)];
            }

            function playRound(playerSelection, computerSelection) {
                if (playerSelection === computerSelection) {
                    console.log('How boring, it\'s a draw');
                    return 0;
                } else if ((playerSelection === 'Rock' && computerSelection === 'Scissors') ||
                           (playerSelection === 'Paper' && computerSelection === 'Rock') ||
                           (playerSelection === 'Scissors' && computerSelection === 'Paper')) {
                    let beat = (playerSelection === 'Scissors') ? 'beat' : 'beats';
                    console.log('You Win! ' + playerSelection + ' ' + beat + ' ' + computerSelection + '.');
                    return 1;
                } else if (playerSelection === 'Fire') {
                    console.log('You Win! Fire beats everything.');
                    return 1;
                } else {
                    let beat = (computerSelection === 'Scissors') ? 'beat' : 'beats';
                    console.log('You Lose! ' + computerSelection + ' ' + beat + ' ' + playerSelection + '.');
                    return -1;
                }
            }

            function checkPlayerInput(str) {
                if (str === 'Rock' || str === 'Paper' || str === 'Scissors' || str=='Fire') {
                    return true;
                }
                return false;
            }

            function formatInput(str) {
                return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
            }

            function game() {
                let playerScore = 0;
                let computerScore = 0;
                let playerSelection;
                let computerSelection;
                for (i = 0; i < 5; i++) {
                    playerSelection = formatInput(prompt('Choose a weapon (Rock, Paper or Scissors).'));
                    while(!checkPlayerInput(playerSelection)) {
                        playerSelection = formatInput(prompt('Invalid weapon, you may choose again (Rock, Paper or Scissors).'));
                    }
                    computerSelection = computerPlay();
                    let result = playRound(playerSelection, computerSelection);
                    if (result === 1) playerScore++;
                    else if (result === -1) computerScore++;
                }
                if (playerScore > computerScore) {
                    console.log('You won the game with a score of ' + playerScore + ' to ' + computerScore + '.');
                } else if (playerScore < computerScore) {
                    console.log('You lost the game with a score of ' + playerScore + ' to ' + computerScore + '.');
                } else {
                    console.log('The game was a draw with a score of ' + playerScore + ' to ' + computerScore + '.');
                }
            }

            game();
        </script>
    </body>
</html>